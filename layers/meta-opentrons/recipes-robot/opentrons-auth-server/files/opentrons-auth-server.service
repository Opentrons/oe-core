[Unit]
Description=Opentrons Auth HTTP Server
Requires=nginx.service
After=nginx.service

[Service]
Type=notify
ExecStart=python3 -m uvicorn auth_server.app:app --uds /run/opentrons-auth-server.sock
StateDirectory=opentrons-auth-server
Environment=PYTHONPATH=/opt/opentrons-auth-server:/usr/lib/python3.10/site-packages
Restart=on-failure
TimeoutStartSec=3min

[Install]
WantedBy=multi-user.target
